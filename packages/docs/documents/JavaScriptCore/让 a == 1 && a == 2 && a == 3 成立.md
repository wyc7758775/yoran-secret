

---
author:  橘子哥
createTime: 2022-01-13 11:59  
modificationDate: 星期四 13日 一月 2022 12:03:49
description: 对象
category: Web
smallClass: JavaScript
key: artitle

---

# 让 a == 1 && a == 2 && a == 3 成立

```JavaScript
if (a == 1 && a == 2 && a == 3) {
  console.log('Win')
}
```


如何打印除`Win`

看到题目的第一眼,我是蒙蔽的.怎么可能会有如此矛盾的情况发生呢?就相当于一个人怎么可能即是小孩,又是成年人,还是老年人呢?

![](image.png)

冷静下来,发现一些端倪.它并不是让a同时等于1 2 3, 而且js是单线程运行的. 及时它们写在了一行,那也是从左到右执行的. 所以它们可以不是同一时期的东西.既然不是同一时期的东西,那么一个人当然可以是过小孩子,是过成年人,是过老年人了.

![](image_1.png)

回到题目,那么我想要让这个条件成立,就需要a判断一次,就变化一次.


1. 第一种方法,利用判断过程中的[隐式转换](https://www.wolai.com/dTBSZGyCzvqZGSk3TLXsvw)的`toString`方法

	```JavaScript
	const a = {
	  _a: 0,
	  toString: function() {
	    return ++_a
	  }
	}
	
	```
	
	运行一次,就给_a加1,然后返回.
	
	因为toString是`Object.prototype`上面默认的方法,所以这个办法相当于把正常的[隐式转换](https://www.wolai.com/dTBSZGyCzvqZGSk3TLXsvw)中`toString` 方法给拦截了.
	
	问题是可以解决了,但是带来了新的问题.如果题目把双等变成三个等怎么办.这里的toString 已经默认把对象转化为字符串了.使用`toStirng`的话,结果就不成立了.
	
2. 第二种方法,对象的数据拦截法
	```JavaScript
	Object.defineProperties(window, {
	  _a: {
	    value: 0,
	    writable: true
	  },
	  a: {
	    get: function() {
	      return  ++_a
	    }
	  }
	})
	```
	
	对象的访问器相关内容可以查看[对于JavaScript面向对象的思考](https://www.wolai.com/gHrKSm75derryDEym74Rr3)



